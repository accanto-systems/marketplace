name: assembly::base::0.1
description: Setup management network jumphost and external voice network
properties:
  deploymentLocation:
    description: the name of the location for this assemblies resources to be deployed
    type: string
    default: devstack
    required: true
  resourceManager:
    description: the name of the resource manager that manages the resources
    type: string
    default: defaultrm
    required: true
  keyname:
    description: name of the openstack keyname
    type: string
    required: true
    default: default
  mgmt_networkid:
    description: network id for mgmt network
    type: read_only
    read-only: true
    value: ${mgmt_network.networkid}
  voice_networkid:
    description: network id for mgmt network
    type: read_only
    read-only: true
    value: ${voice_network.networkid}
  mgmt_securitygroup_id:
    description: security group id for mgmt network
    type: read_only
    read-only: true
    value: ${common.mgmt_securitygroup_id}
  voice_securitygroup_id:
    description: security group id for voice network
    type: read_only
    read-only: true
    value: ${common.voice_securitygroup_id}
composition:
  common:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
    type: assembly::baseinfrastructure::0.1
    quantity: 1
  mgmt_network:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      subnet:
        value: 10.30.0.0/24
      provider_network: 
        value: True
      provider_network_type: 
        value: vlan
      provider_physical_network: 
        value: provider
      provider_segmentation_id: 
        value: 5
    type: assembly::network::1.0
    quantity: 1
  voice_network:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      subnet:
        value: 10.10.0.0/24
      provider_network: 
        value: True
      provider_network_type: 
        value: vlan
      provider_physical_network: 
        value: provider
      provider_segmentation_id: 
        value: 10
    type: assembly::network::1.0
    quantity: 1
designerLayout:
  description: The following information is solely used to determine the presentation
    of this Assembly Design in the LM UI. It does not form part of operational/behavioural
    description of the Assembly and should not be edited directly.
  elements:
    common:
      x: 735.3333740234375
      y: 13.333332061767578
    mgmt_network:
      x: 766.0000610351562
      y: 178.66671752929688
    mgmt_router:
      x: 451.3333740234375
      y: 216
    voice_network:
      x: 875.3333129882812
      y: 740.0000610351562
    voice_router:
      x: 491.3333740234375
      y: 745.3333129882812
    jumphost:
      x: 1190
      y: 148
    assembly::base::0.1:
      x: 0
      y: 180
