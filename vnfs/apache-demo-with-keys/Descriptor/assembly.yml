name: assembly::apache-demo-keys::1.0
description: assembly descriptor for apache using infrastructure keys
properties:
  deploymentLocation:
    description: the name of the location for this assemblies resources to be deploy
    default: core
  resourceManager:
    description: the name of the resource manager that manages the resources
    default: brent
  image_id:
    default: xenial-server-cloudimg-amd64-disk1
    description: Image to be used for compute instance
  flavor:
    default: m1.small
    description: Type of instance (flavor) to be used
  server1_ssh_key:
    default: apache1_server_key
    description: This is the name of an existing SSH key pair in Openstack
  server21_ssh_key_name:
    default: apache21_server_key
    description: This is the name given to a new SSH key pair generated by the HEAT template, and used by the apache2 server
  server22_ssh_key_name:
    default: apache22_server_key
    description: This is the name given to a new SSH key pair generated by the HEAT template, and used by the apache2 server
  server23_ssh_key_name:
    default: apache23_server_key
    description: This is the name given to a new SSH key pair generated by the HEAT template, and used by the apache2 server
  server24_ssh_key_name:
    default: apache24_server_key
    description: This is the name given to a new SSH key pair generated by the HEAT template, and used by the apache2 server
  greeting_receiver:
    default: world
    description: Name to append to the greeting on the default site (i.e. Hello, World!)
  site_port:
    default: 80
    description: Port to bind the apache2 site
  site_admin_email: 
    default: host@localhost
    description: ServerAdmin setting for the apache2 site
  site_name:
    default: hw
    description: Name given to the apache2 site
  server1_internal_ip:
    read-only: true
    value: ${hw-apache1.server1_internal_ip}
  server1_public_ip: 
    read-only: true
    value: ${hw-apache1.server1_public_ip}
  server2_internal_ip:
    read-only: true
    value: ${hw-apache1.server2_internal_ip}
  server2_public_ip: 
    read-only: true
    value: ${hw-apache1.server2_public_ip}
composition:
  hw-apache1:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      server1_ssh_key:
        value: ${server1_ssh_key}
      server2_ssh_key_name:
        value: ${server21_ssh_key_name}
      image_id:
        value: ${image_id}
      flavor:
        value: ${flavor}
    type: resource::hw-apache-vnfc-keys-apache-demo-keys::1.0
    quantity: 1
  hw-apache2:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      server1_ssh_key:
        value: ${server1_ssh_key}
      server2_ssh_key_name:
        value: ${server22_ssh_key_name}
      image_id:
        value: ${image_id}
      flavor:
        value: ${flavor}
    type: resource::hw-apache-vnfc-keys-apache-demo-keys::1.0
    quantity: 1
  hw-apache3:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      server1_ssh_key:
        value: ${server1_ssh_key}
      server2_ssh_key_name:
        value: ${server23_ssh_key_name}
      image_id:
        value: ${image_id}
      flavor:
        value: ${flavor}
    type: resource::hw-apache-vnfc-keys-apache-demo-keys::1.0
    quantity: 1
  hw-apache4:
    properties:
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
      server1_ssh_key:
        value: ${server1_ssh_key}
      server2_ssh_key_name:
        value: ${server24_ssh_key_name}
      image_id:
        value: ${image_id}
      flavor:
        value: ${flavor}
    type: resource::hw-apache-vnfc-keys-apache-demo-keys::1.0
    quantity: 1
designerLayout:
  description: >-
    The following information is solely used to determine the presentation of
    this Assembly Design in the LM UI. It does not form part of
    operational/behavioural description of the Assembly and should not be edited
    directly.

