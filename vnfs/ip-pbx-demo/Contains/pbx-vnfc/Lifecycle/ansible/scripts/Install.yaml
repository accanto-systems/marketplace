---

- name: Install Lifecycle Transition
  hosts: resource
  gather_facts: False
  # become: true

  tasks:
  - name: pause
    shell: python --version

  - name: input key
    debug:
      msg: "echo {{ properties.input_key }}"

  - name: input key path
    debug:
      # note: any key property private keys are written to the file system at a path given
      # by [LM property name]_path
      msg: "echo {{ properties.input_key_path }}"

  - name: input key name
    debug:
      # note: a key property name is given by [LM property name]_name
      msg: "echo {{ properties.input_key_name }}"

  - name: Report PROPERTIES
    set_fact:
      output__infrastructure_id: "{{ system_properties.infrastructureId }}"
      output__input_key_as_string: "{{ properties.input_key }}"
      output__input_key_path: "{{ properties.input_key_path }}"
      output__input_key_name: "{{ properties.input_key_name }}"
      # an output key is persisted by Brent and the key name (currently a UUID generated by
      # Brent) is returned to LM. Notice that the key consists of both a private
      # and public RSA key pair, each enclosed in marker strings.
      output__output_key: "{\"name\": \"reskey1\", \"privateKey\": \"XXXEpQIBAAKCAQEA3Tz2mr7SZiAMfQyuvBjM9Oi..Z1BjP5CE/Wm/Rr500P
RK+Lh9x5eJPo5CAZ3/ANBE0sTK0ZsDGMak2m1g7..3VHqIxFTz0Ta1d+NAj
wnLe4nOb7/eEJbDPkk05ShhBrJGBKKxb8n104o/..PdzbFMIyNjJzBM2o5y
5A13wiLitEO7nco2WfyYkQzaxCw0AwzlkVHiIyC..71pSzkv6sv+4IDMbT/
XpCo8L6wTarzrywnQsh+etLD6FtTjYbbrvZ8RQM..Hg2qxraAV++HNBYmNW
s0duEdjUbJK+ZarypXI9TtnS4o1Ckj7POfljiQI..IBAFyidxtqRQyv5KrD
kbJ+q+rsJxQlaipn2M4lGuQJEfIxELFDyd3XpxP..Un/82NZNXlPmRIopXs
2T91jiLZEUKQw+n73j26adTbteuEaPGSrTZxBLR..yssO0wWomUyILqVeti
6AkL0NJAuKcucHGqWVgUIa4g1haE0ilcm6dWUDo..fd+PpzdCJf1s4NdUWK
YV2GJcutGQb+jqT5DTUqAgST7N8M28rwjK6nVMI..BUpP0xpPnuYDyPOw6x
4hBt8DZQYyduzIXBXRBKNiNdv8fum68/5klHxp6..4HRkMUL958UVeljUsT
BFQlO9UCgYEA/VqzXVzlz8K36VSTMPEhB5zBATV..PRiXtYK1YpYV4/jSUj
vvT4hP8uoYNC+BlEMi98LtnxZIh0V4rqHDsScAq..VyeSLH0loKMZgpwFEm
bEIDnEOD0nKrfT/9K9sPYgvB43wsLEtUujaYw3W..Liy0WKmB8CgYEA34xn
1QlOOhHBn9Z8qYjoDYhvcj+a89tD9eMPhesfQFw..rsfGcXIonFmWdVygbe
6Doihc+GIYIq/QP4jgMksE1ADvczJSke92ZfE2i..fitBpQERNJO0BlabfP
ALs5NssKNmLkWS2U2BHCbv4DzDXwiQB37KPOL1c..kBHfF2/htIs20d1UVL
+PK+aXKwguI6bxLGZ3of0UH+mGsSl0mkp7kYZCm..OTQtfeRqP8rDSC7DgA
kHc5ajYqh04AzNFaxjRo+M3IGICUaOdKnXd0Fda..QwfoaX4QlRTgLqb7AN
ZTzM9WbmnYoXrx17kZlT3lsCgYEAm757XI3WJVj..WoLj1+v48WyoxZpcai
uv9bT4Cj+lXRS+gdKHK+SH7J3x2CRHVS+WH/SVC..DxuybvebDoT0TkKiCj
BWQaGzCaJqZa+POHK0klvS+9ln0/6k539p95tfX..X4TCzbVG6+gJiX0ysz
Yfehn5MCgYEAkMiKuWHCsVyCab3RUf6XA9gd3qY..fCTIGtS1tR5PgFIV+G
engiVoWc/hkj8SBHZz1n1xLN7KDf8ySU06MDggB..hJ+gXJKy+gf3mF5Kmj
DtkpjGHQzPF6vOe907y5NQLvVFGXUq/FIJZxB8k..fJdHEm2M4=\", \"publicKey\": \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDJ1t35uQorDiR8gmXQtbGB6W+NrK4nx+IYj8bTBsQu0gx4jlYNwb2wzaeejLU7QP8FB5G3eclo7emUNK479Eg/UMtPmNzsQhRjlUKonuYLPncLGKtetFgjMnmePvi8mudl9o1alvcdtn41VofNZ4dN8RcgKIJOdS1Xd4vwHEW57PhUNIHs0x2MHfPQ0wsz1vzUrof4B2bxFkXI4f3kTXKV2n3MMfeb736TYfrhBcji4i9OOiQV3jwlrmqeOQyddgrCUB6TEDPJfO6XGqxWSl56CxvbqSSZ3ugplptAoObUHuxJs5P6pMGvC03D5nDq3pSKajAgTix6xjM6Z4LKFHPx accanto@blacktower\"}"
