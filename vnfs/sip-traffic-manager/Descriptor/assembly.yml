name: assembly::sip-traffic-manager::1.0
description: Manages traffic from a sipp
properties:
  deploymentLocation:
    description: the name of the location for this assembly
    type: string
    default: local
  resourceManager:
    description: the name of the resource manager that manages the resources
    type: string
    default: defaultrm
  target_name:
    description: the name of the container to perform the action against
    type: string
  target_address:
    description: the address of the sip server
    type: string
    value: ${vlg.sipp_address}
  destination_address:
    description: the destination for the sip traffic
    type: string
    value: ${voice-service.voice_service_ipaddress}
  calls:
    description: number of concurrent calls
    type: string
    default: 8
  load-generator-name:
    type: string
    default: vlg-test1
composition:
  router:
    properties:
      mgmt_network:
        value: ${vlg.mgmt_network}
      target_name:
        value: ${load-generator-name}__sipp-server__sipp
      target_address:
        value: ${vlg.sipp_address}
      destination_address:
        value: ${voice-service.voice_service_ipaddress}
      calls:
        value: ${calls}
      deploymentLocation:
        value: ${deploymentLocation}
      resourceManager:
        value: ${resourceManager}
    type: resource::sip-traffic-manager-vnfc::1.0
    quantity: 1
references:
  voice-service:
    properties:
      name:
        value: ${target_name}
    type: assembly::voice-service::1.0
  vlg:
    properties:
      name:
        value: ${load-generator-name}
    type: assembly::voice-load-generator::1.0
